{:	data{I"/:ET{:default{	:	lastI"°<!DOCTYPE html>
<html>
  <head>
    <title>Blake Simpson &sect; Web Developer</title>
    <link href='stylesheets/styles.css' rel='stylesheet'>
    <link href='http://fonts.googleapis.com/css?family=Signika' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <div class='container'>
      <div id='map'></div>
        <div id='content'>
          <div class='inner'>
            <article class='body'>
              <header>
                <h1>Blake Simpson</h1>
              </header>
              <section class='description'>
                <p>
                  I am a Web Developer who enjoys creating websites and applications using technologies such as
                  <span>Ruby on Rails,</span>
                  <span>JavaScript</span>
                  and
                  <span>CSS</span>
                </p>
                <p>
                  I have moved from
                  <a class='dundee' href='#'>Dundee</a>
                  to
                  <a class='hamburg' href='#'>Hamburg</a>
                  and I now work for
                  <a href='http://ubilabs.net/' rel='blank'>Ubilabs,</a>
                  building Location Based Media applications.
                </p>
              </section>
            </article>
            <aside class='profile'>
              <div class='loading'></div>
              <img alt='Twitter profile image' src='#' />
            </aside>
            <footer class='links'>
              <div class='sites'>
                <nav>
                  <ul>
                    <li>
                      <a class='twitter' href='http://twitter.com/brsim'>Twitter</a>
                    </li>
                    <li>
                      <a class='facebook' href='http://facebook.com/Blake121'>Facebook</a>
                    </li>
                    <li>
                      <a class='github' href='http://github.com/BlakeSimpson'>Github</a>
                    </li>
                    <li>
                      <a class='lastfm' href='http://last.fm/user/blake121'>Last.fm</a>
                    </li>
                  </ul>
                </nav>
              </div>
              <div class='blog'>
                <a href='http://blog.blakesimpson.co.uk/'>Visit Blog</a>
              </div>
              <div class='clear'></div>
            </footer>
          </div>
        </div>
        <script type='text/javascript'>
          //<![CDATA[
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-18113827-1']);
            _gaq.push(['_trackPageview']);
            
            (function() {
              var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
              ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
              var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
          //]]>
        </script>
    </div>
  </body>
  <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js'></script>
  <script src='https://maps.googleapis.com/maps/api/js?sensor=false'></script>
  <script src='javascripts/app.js'></script>
</html>
;T:rawI"ø#map
#content
  .inner
    %article.body
      %header
        %h1 Blake Simpson
        
      %section.description
        %p 
          I am a Web Developer who enjoys creating websites and applications using technologies such as 
          %span Ruby on Rails, 
          %span JavaScript
          and 
          %span CSS
          
        %p
          I have moved from 
          %a.dundee{:href => '#'} Dundee
          to
          %a.hamburg{:href => '#'} Hamburg
          and I now work for 
          %a{:href => 'http://ubilabs.net/', :rel => 'blank'} Ubilabs,
          building Location Based Media applications.
        
           
    %aside.profile
      .loading
      %img{:src => '#', :alt => 'Twitter profile image'}
      
    %footer.links
      .sites
        %nav
          %ul
            %li
              %a{:href => 'http://twitter.com/brsim', :class => 'twitter'} Twitter
            %li
              %a{:href => 'http://facebook.com/Blake121', :class => 'facebook'} Facebook
            %li
              %a{:href => 'http://github.com/BlakeSimpson', :class => 'github'} Github
            %li
              %a{:href => 'http://last.fm/user/blake121', :class => 'lastfm'} Last.fm
        
      .blog
        %a{:href => 'http://blog.blakesimpson.co.uk/'} Visit Blog
        
      .clear
      
      
:javascript
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18113827-1']);
  _gaq.push(['_trackPageview']);
  
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();;T:preI"u<div id='map'></div>
<div id='content'>
  <div class='inner'>
    <article class='body'>
      <header>
        <h1>Blake Simpson</h1>
      </header>
      <section class='description'>
        <p>
          I am a Web Developer who enjoys creating websites and applications using technologies such as
          <span>Ruby on Rails,</span>
          <span>JavaScript</span>
          and
          <span>CSS</span>
        </p>
        <p>
          I have moved from
          <a class='dundee' href='#'>Dundee</a>
          to
          <a class='hamburg' href='#'>Hamburg</a>
          and I now work for
          <a href='http://ubilabs.net/' rel='blank'>Ubilabs,</a>
          building Location Based Media applications.
        </p>
      </section>
    </article>
    <aside class='profile'>
      <div class='loading'></div>
      <img alt='Twitter profile image' src='#' />
    </aside>
    <footer class='links'>
      <div class='sites'>
        <nav>
          <ul>
            <li>
              <a class='twitter' href='http://twitter.com/brsim'>Twitter</a>
            </li>
            <li>
              <a class='facebook' href='http://facebook.com/Blake121'>Facebook</a>
            </li>
            <li>
              <a class='github' href='http://github.com/BlakeSimpson'>Github</a>
            </li>
            <li>
              <a class='lastfm' href='http://last.fm/user/blake121'>Last.fm</a>
            </li>
          </ul>
        </nav>
      </div>
      <div class='blog'>
        <a href='http://blog.blakesimpson.co.uk/'>Visit Blog</a>
      </div>
      <div class='clear'></div>
    </footer>
  </div>
</div>
<script type='text/javascript'>
  //<![CDATA[
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-18113827-1']);
    _gaq.push(['_trackPageview']);
    
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  //]]>
</script>
;T:	post@
I"/stylesheets/styles/;T{;{;I"Hhtml,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}body{line-height:1}ol,ul{list-style:none}table{border-collapse:collapse;border-spacing:0}caption,th,td{text-align:left;font-weight:normal;vertical-align:middle}q,blockquote{quotes:none}q:before,q:after,blockquote:before,blockquote:after{content:"";content:none}a img{border:none}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary{display:block}body{color:#333;font-size:14px;font-family:Signika,"Trebuchet MS",Verdana,sans-serif}.popup{background:#fff;padding:10px;-moz-border-radius:3px;-webkit-border-radius:3px;-o-border-radius:3px;-ms-border-radius:3px;-khtml-border-radius:3px;border-radius:3px;-moz-box-shadow:0px 0px 8px #444;-webkit-box-shadow:0px 0px 8px #444;-o-box-shadow:0px 0px 8px #444;box-shadow:0px 0px 8px #444;filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=90);opacity:0.9;position:absolute;z-index:10;width:180px;display:none}#map{position:absolute;top:0;left:0;right:0;bottom:0}#content{position:absolute;z-index:99;top:50%;left:50%;height:220px;width:600px;margin:-125px 0 0 -300px;background:url("../images/background.png");padding:20px;border:2px solid #c2c2c2;-moz-border-radius:3px;-webkit-border-radius:3px;-o-border-radius:3px;-ms-border-radius:3px;-khtml-border-radius:3px;border-radius:3px;-moz-box-shadow:0px 0px 8px #444;-webkit-box-shadow:0px 0px 8px #444;-o-box-shadow:0px 0px 8px #444;box-shadow:0px 0px 8px #444}#content .inner article.body{float:left}#content .inner article.body header h1{font-size:44px}#content .inner article.body .description{margin:20px 0 0 0;float:left;width:400px;line-height:21px}#content .inner article.body .description a{color:#0054a6}#content .inner article.body .description a:visited{color:#036}#content .inner article.body .description a:hover{text-decoration:underline}#content .inner article.body .description p{margin:0 0 10px 0}#content .inner aside.profile{float:right}#content .inner aside.profile .loading{width:160px;height:160px;background:#fff url("../images/loading.gif") center center no-repeat;-moz-border-radius:3px;-webkit-border-radius:3px;-o-border-radius:3px;-ms-border-radius:3px;-khtml-border-radius:3px;border-radius:3px;-moz-box-shadow:0px 0px 5px #777;-webkit-box-shadow:0px 0px 5px #777;-o-box-shadow:0px 0px 5px #777;box-shadow:0px 0px 5px #777}#content .inner aside.profile img{display:none;width:160px;-moz-border-radius:3px;-webkit-border-radius:3px;-o-border-radius:3px;-ms-border-radius:3px;-khtml-border-radius:3px;border-radius:3px;-moz-box-shadow:0px 0px 5px #777;-webkit-box-shadow:0px 0px 5px #777;-o-box-shadow:0px 0px 5px #777;box-shadow:0px 0px 5px #777}#content .inner footer.links{clear:both}#content .inner footer.links .sites{padding:10px 0;float:left;width:70%}#content .inner footer.links .sites ul li{float:left;display:inline-block}#content .inner footer.links .sites ul li a{text-align:center;color:#0054a6;display:block;padding:5px;margin-right:10px;text-decoration:none;-moz-box-shadow:0 0 5px #777;-webkit-box-shadow:0 0 5px #777;-o-box-shadow:0 0 5px #777;box-shadow:0 0 5px #777;-moz-border-radius:3px;-webkit-border-radius:3px;-o-border-radius:3px;-ms-border-radius:3px;-khtml-border-radius:3px;border-radius:3px;-moz-transition-property:all;-webkit-transition-property:all;-o-transition-property:all;transition-property:all;-moz-transition-duration:0.5s;-webkit-transition-duration:0.5s;-o-transition-duration:0.5s;transition-duration:0.5s}#content .inner footer.links .sites ul li a:hover{-moz-box-shadow:0 0 5px #036;-webkit-box-shadow:0 0 5px #036;-o-box-shadow:0 0 5px #036;box-shadow:0 0 5px #036}#content .inner footer.links .blog{padding:10px 0;float:right;width:29%}#content .inner footer.links .blog a{text-align:center;color:#0054a6;display:block;width:150px;padding:5px;margin-left:14px;text-decoration:none;-moz-box-shadow:0 0 5px #777;-webkit-box-shadow:0 0 5px #777;-o-box-shadow:0 0 5px #777;box-shadow:0 0 5px #777;-moz-border-radius:3px;-webkit-border-radius:3px;-o-border-radius:3px;-ms-border-radius:3px;-khtml-border-radius:3px;border-radius:3px;-moz-transition-property:all;-webkit-transition-property:all;-o-transition-property:all;transition-property:all;-moz-transition-duration:0.5s;-webkit-transition-duration:0.5s;-o-transition-duration:0.5s;transition-duration:0.5s}#content .inner footer.links .blog a:hover{-moz-box-shadow:0 0 5px #0054a6;-webkit-box-shadow:0 0 5px #0054a6;-o-box-shadow:0 0 5px #0054a6;box-shadow:0 0 5px #0054a6}.clear{clear:both}
;T;	I"
@import compass/reset
@import compass/css3
@import settings

body
  color: #333
  font:
    size: 14px
    family: $font_stack
    
.popup
  background: #fff
  padding: 10px
  +border-radius(3px)
  +box-shadow(0px 0px 8px #444)
  +opacity(0.9)
  position: absolute
  z-index: 10
  width: 180px
  display: none
  

#map
  position: absolute
  top: 0
  left: 0
  right: 0
  bottom: 0
  
#content
  position: absolute
  z-index: 99
  top: 50%
  left: 50%
  height: 220px
  width: 600px
  margin: -125px 0 0 -300px
  background: url('../images/background.png')
  padding: 20px
  border: 2px solid $col_gray
  +border-radius(3px)
  +box-shadow(0px 0px 8px #444)
  
  .inner          
    article.body
      float: left
      header
        h1
          font-size: 44px
          
      .description
        margin: 20px 0 0 0
        float: left
        width: 400px
        line-height: 21px
        a
          color: $col_blue
          &:visited
            color: $col_dark_blue
          &:hover
            text-decoration: underline
        p
          margin: 0 0 10px 0
    
    $_img_size: 160px
    aside.profile
      float: right
      .loading
        width: $_img_size
        height: $_img_size
        background: #fff url('../images/loading.gif') center center no-repeat
        +border-radius(3px)
        +box-shadow(0px 0px 5px #777)
        
      img
        display: none //Loaded with javascript
        width: $_img_size
        +border-radius(3px)
        +box-shadow(0px 0px 5px #777)
      
    footer.links
      clear: both
      .sites
        padding: 10px 0
        float: left
        width: 70%
        ul
          li
            float: left
            display: inline-block
            a
              text-align: center
              color: $col_blue
              display: block
              padding: 5px
              margin-right: 10px
              text-decoration: none
              +box-shadow(0 0 5px #777)
              +border-radius(3px)
              +single-transition(all, 0.5s)
              &:hover
                +box-shadow(0 0 5px $col_dark_blue)
        
      .blog
        padding: 10px 0
        float: right
        width: 29%
        a
          text-align: center
          color: $col_blue
          display: block
          width: 150px
          padding: 5px
          margin-left: 14px
          text-decoration: none
          +box-shadow(0 0 5px #777)
          +border-radius(3px)
          +single-transition(all, 0.5s)
          &:hover
            +box-shadow(0 0 5px $col_blue)
            

.clear
  clear: both;T;
@I"/javascripts/app/;T{;{;I"W$(function() {
  
  var $canvas = $("#map"),
      tweets = [],
      center_dundee = [56.462018,-2.970721],
      center_hamburg = [53.5569,9.9946],
      default_zoom = 14,
      markers = [],
      location,
      bounds,
      profile_photo,
      map;
      
  function init() {    
    location = new google.maps.LatLng(center_hamburg[0],center_hamburg[1]);
    
    var mapOpts = {
      minZoom: 4,
      zoom: default_zoom,
      center: location,
      mapTypeId: google.maps.MapTypeId.SATELLITE,
      zoomControl: false,
      panControl: false,
      streetViewControl: false,
      mapTypeControl: false
    };
    
    map = new google.maps.Map($canvas.get(0), mapOpts); 
    bounds = new google.maps.LatLngBounds();
    google.maps.event.addListener(map, 'bounds_changed', function() { update_popups(); });
    load_tweets();
  };
  
  function load_tweets() {
    $.getJSON('https://twitter.com/statuses/user_timeline/44665823.json?callback=?', function(data) {
      $.each(data, function(key, val) {
        if(val.geo) {
          tweets.push(val);
        }
        assign_profile_photo(val);
      });
      show_tweets();
    });
  }
  
  function show_tweets() {
    $.each(tweets, function(key, tweet) {
      var lat = tweet.geo.coordinates[0],
          lng = tweet.geo.coordinates[1],
          point = new google.maps.LatLng(lat,lng);
          
      marker = new google.maps.Marker({
        map: map,
        position: point,
        tweet_id: tweet.id
      });
      markers.push(marker);
      create_popup(tweet, marker);
      click_listener(marker);
      bounds.extend(point);
    });
    update_popups();
  }
  
  function update_popups() {
    $('.popup').each(function() {
      var $self = $(this);
      update_popup_position($self.data('id'));
    });
  }
  
  function update_popup_position(popup_id) { 
    var $popup = $('.popup[data-id="'+popup_id+'"]');
    $.each(markers, function(key, marker) {
      if(marker.tweet_id == popup_id) {
        var marker_offset = get_marker_offset(marker),
            offset = popup_position($popup, marker_offset);
        $popup.css('left', offset.x+'px');
        $popup.css('top', offset.y+'px');
      }
    });
  }
  
  function popup_position(popup, offset) {
    var x = offset.x,
        y = offset.y,
        width = popup.outerWidth(),
        height = popup.outerHeight();
    var new_x = x-(width/2);
    if(height == 62) {
      var new_y = y-(height*1.6);
    } else if(height == 48) {
      var new_y = y-(height*1.8);
    } else {
      var new_y = y-(height*1.5);
    }
    return {x: new_x, y: new_y}
  }
  
  function replace_urls_with_links(text) {
    var exp = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;
    return text.replace(exp,"<a href=\"$1\">$1</a>"); 
  }
  
  function create_popup(tweet, marker) {
    var popup = $("<div></div>").appendTo("body"),
        text = replace_urls_with_links(tweet.text);
    popup.attr('data-id', tweet.id);
    popup.addClass('popup');
    popup.html(text);
  }
  
  function click_listener(marker) {
    new google.maps.event.addListener(marker, 'click', function() {
      hide_all_popups();
      $('.popup').each(function() {
        var popup = $(this);
        if(popup.data('id') == marker.tweet_id) {
          popup.fadeIn(200);
        }
      })
    });
  }
  
  function hide_all_popups() {
    $('.popup').each(function() {
      $(this).fadeOut(200);
    })
  }
    
  function assign_profile_photo(tweet) {
    if(!profile_photo && tweet.user) {
      profile_photo = tweet.user.profile_image_url.replace("_normal", "");
      $("aside.profile img").attr('src', profile_photo).show();
      $("aside.profile .loading").hide();
    }
  }
  
  function get_marker_offset(marker) {
    var scale = Math.pow(2, map.getZoom());
    var nw = new google.maps.LatLng(
        map.getBounds().getNorthEast().lat(),
        map.getBounds().getSouthWest().lng()
    );
    var worldCoordinateNW = map.getProjection().fromLatLngToPoint(nw);
    var worldCoordinate = map.getProjection().fromLatLngToPoint(marker.getPosition());
    return new google.maps.Point(
        Math.floor((worldCoordinate.x - worldCoordinateNW.x) * scale),
        Math.floor((worldCoordinate.y - worldCoordinateNW.y) * scale)
    );
  }
  
  function add_events() {
    var $description = $("section.description"),
        $dundee = $description.find('.dundee'),
        $hamburg = $description.find('.hamburg');
    
    $dundee.click(function() {
      map.panTo(new google.maps.LatLng(center_dundee[0],center_dundee[1]));
      map.setZoom(default_zoom);
      return false;
    });
    $hamburg.click(function() {
      map.panTo(new google.maps.LatLng(center_hamburg[0],center_hamburg[1]));
      map.setZoom(default_zoom);
      return false;
    });

    $('a[rel="blank"]').each(function() {
      $(this).attr('target', '_blank');
    });
  }
  
  init();
  add_events();
});
;T;	@;
@I"/images/background/;T{;{ I"/stylesheets/_settings/;T{;{;I" ;T;	I"}$col_blue: #0054a6
$col_dark_blue: #003366
$col_gray: #c2c2c2

$font_stack: Signika, "Trebuchet MS", Verdana, sans-serif;T;
@I"/images/loading/;T{;{ :versioni